<link rel="import" href="../../custom-audio.html">

<div class="floatingContainer" ng-mouseleave="hovering=false">
  <div class="subActionButton voice" ng-class="{'display':hovering}" ng-mouseenter="voiceHover=true" ng-mouseleave="voiceHover=false" ng-click="showNewRequest('voice')">
    <p class="floatingText" ng-class="{'show':voiceHover}"><span class="floatingTextBG">New Voice Request</span></p>
  </div>
  <div class="subActionButton image" ng-class="{'display':hovering}" ng-mouseenter="imageHover=true" ng-mouseleave="imageHover=false" ng-click="showNewRequest('image')">
    <p class="floatingText" ng-class="{'show':imageHover}"><span class="floatingTextBG">New Image Request</span></p>
  </div>
  <div class="subActionButton note" ng-class="{'display':hovering}" ng-mouseenter="noteHover=true" ng-mouseleave="noteHover=false" ng-click="showNewRequest('text')">
    <p class="floatingText" ng-class="{'show':noteHover}"><span class="floatingTextBG">New Text Request</span></p>
  </div>
  <div class="actionButton" ng-class="{'open':hovering}" ng-mouseenter="hovering=true" ng-click="hovering = !hovering"><p class="floatingText"><span class="floatingTextBG">Add Request</span></p>
  </div>
</div>


<div id="requests-page">
    Requests Page Loaded
    <div id="requests-list">
        <ul id="requests-list-ul">
            <li ng-repeat="request in requests">
                <div class="each-request">
                    <img class="request-user-image" ng-src='{{request.message.authorId.userImg}}'>
                    <div class="request-center">
                      <ul>
                        <li><h2>{{request.message.authorId.fullName || request.message.authorId.username}}</h2></li>
                        <li><h3>{{request.message.title}}</h3></li>
                        <li><span>{{request.message.description}}
                        </span></li>
                      </ul>
                      <div class="image-centerer" ng-if="request.message.imageUrlTh">
                        <img class="request-preview-image" ng-src='{{request.message.imageUrlTh}}' ng-click="viewBigger(request.message.imageUrl)">
                      </div>
                      <span>{{request.message.audioDuration}}</span>
<!--                         <audio ng-if="request.message.audioUrl" ng-src="{{request.message.audioUrl}}" preload="none" controls>
                            Your browser does not support the audio element.
                        </audio> -->
                        <custom-audio ng-if="request.message.audioUrl" title="Test Audio" audsource="{{request.message.audioUrl}}">There was an error loading the audio player.</custom-audio>

                    <div id="req-reply-link" ng-click="goToRequest(request._id)">Reply</div>
                    </div>
                    <span class="right-request-date" am-time-ago="request.message.created"></span>
                </div>
            </li>
        </ul>
        </div>
    </div>
